<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>QuestKeeper — Discord Bot</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root{
            --bg1:#0f172a; --bg2:#071033; --accent:#7c3aed; --accent-2:#06b6d4;
            --glass: rgba(255,255,255,0.06);
            --glass-2: rgba(255,255,255,0.03);
            --text: #e6eef8;
        }
        *{box-sizing:border-box}
        html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;color:var(--text);background:linear-gradient(120deg,var(--bg1),var(--bg2));-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
        /* animated background blobs */
        .bg-anim{position:fixed;inset:0;overflow:hidden;z-index:0;pointer-events:none}
        .blob{
            position:absolute;border-radius:50%;filter:blur(70px);
            transform:translate3d(0,0,0);
            opacity:0.6;
            mix-blend-mode:screen;
            animation:float 12s ease-in-out infinite;
        }
        .blob.b1{width:520px;height:520px;left:-10%;top:-10%;background:linear-gradient(45deg,var(--accent),#60a5fa);animation-duration:16s}
        .blob.b2{width:420px;height:420px;right:-8%;top:10%;background:linear-gradient(45deg,var(--accent-2),#34d399);animation-duration:14s}
        .blob.b3{width:300px;height:300px;left:20%;bottom:-12%;background:linear-gradient(45deg,#f43f5e,#fb923c);animation-duration:18s}
        @keyframes float{
            0%{transform:translateY(0) translateX(0) scale(1)}
            50%{transform:translateY(-40px) translateX(30px) scale(1.05)}
            100%{transform:translateY(0) translateX(0) scale(1)}
        }

        /* container */
        .wrap{position:relative;z-index:2;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:4rem}
        .card{
            width:100%;max-width:1100px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));
            border-radius:18px;padding:36px;display:grid;grid-template-columns:1fr 400px;gap:28px;box-shadow:0 10px 30px rgba(2,6,23,0.6);backdrop-filter: blur(8px);border:1px solid var(--glass);
        }
        .left{padding:8px 0}
        h1{font-size:2.1rem;margin:2px 0 8px;letter-spacing:-0.6px}
        p.lead{color:#cfe7ff8a;margin:0 0 18px;line-height:1.45}
        .features{display:flex;flex-direction:column;gap:12px;margin-top:18px}
        .feature{display:flex;gap:12px;align-items:flex-start;background:linear-gradient(90deg,rgba(255,255,255,0.01),transparent);padding:12px;border-radius:10px;border:1px solid var(--glass-2)}
        .feature svg{flex:0 0 36px;width:36px;height:36px}
        .feature h4{margin:0;font-size:0.98rem}
        .feature small{color:#bcd9ff7a}

        /* right column */
        .right{display:flex;flex-direction:column;gap:18px;align-items:center;justify-content:center;padding:12px}
        .bot-card{width:100%;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:18px;border-radius:12px;border:1px solid var(--glass-2);display:flex;gap:14px;align-items:center}
        .avatar{width:64px;height:64px;border-radius:12px;background:linear-gradient(45deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;font-weight:800;font-size:20px;color:white;box-shadow:0 6px 20px rgba(12,18,32,0.6)}
        .meta{flex:1}
        .meta h3{margin:0;font-size:1.05rem}
        .meta small{color:#cfe7ff6f}
        .actions{display:flex;gap:10px;width:100%}
        .btn{
            display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:11px 14px;border-radius:10px;font-weight:600;border:0;cursor:pointer;color:white;text-decoration:none
        }
        .btn-primary{background:linear-gradient(90deg,var(--accent),#4f46e5);box-shadow:0 8px 24px rgba(124,58,237,0.18)}
        .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--text)}
        .btn:active{transform:translateY(1px)}
        .small-note{font-size:0.85rem;color:#cfe7ff6a;margin-top:6px;text-align:center}

        /* responsive */
        @media (max-width:880px){
            .card{grid-template-columns:1fr;max-width:760px;padding:20px}
            .right{order:-1}
        }
    </style>
</head>
<body>
    <div class="bg-anim" aria-hidden="true">
        <div class="blob b1"></div>
        <div class="blob b2"></div>
        <div class="blob b3"></div>
    </div>

    <main class="wrap">
        <section class="card" role="main" aria-labelledby="hero-title">
            <div class="left">
                <h1 id="hero-title">QuestKeeper — Build, Share & Complete Quests</h1>
                <p class="lead">QuestKeeper helps communities run fun, private task-based quests. Creators post quests with descriptions, rewards and deadlines. When someone accepts a quest, a private conversation is created so the Creator and Adventurer can coordinate safely.</p>

                <div class="features" aria-hidden="false">
                    <div class="feature">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M12 8v4l3 3" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
                        <div>
                            <h4>Create custom quests</h4>
                            <small>Define descriptions, rewards and precise deadlines.</small>
                        </div>
                    </div>

                    <div class="feature">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M3 7v10a2 2 0 0 0 2 2h3l3 3 3-3h3a2 2 0 0 0 2-2V7" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
                        <div>
                            <h4>Private chat between Creator & Adventurer</h4>
                            <small>One-on-one channel to discuss quest details and confirm completion.</small>
                        </div>
                    </div>

                    <div class="feature">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><path d="M7 10l5-5 5 5" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
                        <div>
                            <h4>Clear reward management</h4>
                            <small>Track offered rewards and claim status directly in the quest view.</small>
                        </div>
                    </div>
                </div>
            </div>

            <aside class="right" aria-labelledby="bot-card-title">
                <div class="bot-card" id="bot-card">
                    <div class="avatar">QK</div>
                    <div class="meta">
                        <h3 id="bot-card-title">QuestKeeper</h3>
                        <small>Trusted quest & private-chat manager for Discord</small>
                    </div>
                </div>

                <div class="actions" role="group" aria-label="Primary actions">
                    <!-- Replace ADD_BOT_LINK_HERE with your bot invite link -->
                    <a id="inviteBtn" class="btn btn-primary" href="ADD_BOT_LINK_HERE" title="Invite bot to your server">
                        Add Bot
                    </a>

                    <!-- Dashboard button triggers OAuth login -->
                    <button id="dashboardBtn" class="btn btn-ghost" title="Open dashboard (Discord login required)">
                        Dashboard
                    </button>
                </div>

                <div class="small-note">You will be asked to log in with Discord to access the dashboard. Your session uses Discord OAuth2 (identify & guilds).</div>
            </aside>
        </section>
    </main>

    <script>
        // SETTINGS - replace placeholders with your URLs/IDs
        // - inviteLink: the bot invite URL (you said you'll provide it)
        // - oauthRedirect: redirect URI for your dashboard
        // - clientId: your Discord application's client ID
        // - scopes: scopes required for dashboard (identify + guilds recommended)
        const inviteLink = "https://discord.com/oauth2/authorize?client_id=1401648655999566035";
        const clientId = "1401648655999566035";
        const oauthRedirect = encodeURIComponent("http://localhost/BotDashboard/dashboard.php"); // e.g. http://localhost/BotDashboard/dashboard.php
        const scopes = encodeURIComponent("identify guilds");

        // Construct OAuth2 URL for user login (replace placeholders)
        const oauthUrl = `https://discord.com/api/oauth2/authorize?client_id=${clientId}&redirect_uri=${oauthRedirect}&response_type=code&scope=${scopes}`;

        // Wire buttons
        document.getElementById('inviteBtn').href = inviteLink;
        document.getElementById('dashboardBtn').addEventListener('click', function () {
            // Basic anti-UI-block animation then redirect
            this.disabled = true;
            this.textContent = "Redirecting to Discord…";
            setTimeout(() => {
                // If developer forgot to set clientId/redirect, show a helpful console message
                if (!clientId || clientId === "YOUR_CLIENT_ID" || !oauthRedirect || oauthRedirect === encodeURIComponent("YOUR_REDIRECT_URI")) {
                    console.error("Please configure clientId and oauthRedirect variables in homepage.html to enable the Dashboard login.");
                    alert("Dashboard not configured. Please set clientId and redirect URI in the homepage file.");
                    this.disabled = false;
                    this.textContent = "Dashboard";
                    return;
                }
                window.location.href = oauthUrl;
            }, 400);
        });
    </script>
</body>
</html>